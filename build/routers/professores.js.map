{"version":3,"sources":["../../src/routers/professores.js"],"names":["ProfessorRouter","express","Router","route","get","req","res","Professor","find","err","professores","json","post","professor","body","save","status","send","deleteMany","put","patch","_id","p","Local","findOne","params","LocalId","findUser","console","log","_doc","deleteOne","id","then","sendStatus"],"mappings":"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","sourcesContent":["import express from 'express';\nimport Professor from '../models/professor';\nimport moment from \"moment\"\n\nconst ProfessorRouter = express.Router();\n\nProfessorRouter.route('/')\n    .get((req, res) => {\n        Professor.find({}, (err, professores) => {\n            res.json(professores)\n        })\n    })\n    .post(async (req, res) => {\n        let professor = new Professor(req.body);\n        professor.save()\n        res.status(201).send(professor)\n    })\nProfessorRouter.route('/DELETEALL')\n    .get((req, res) => {\n        Professor.deleteMany({}, () => {\n            res.send(\"deletado\")\n        })\n    })\nProfessorRouter.route('/:id')\n    .put((req, res) => {\n        /*\n        req.Professor.title = req.body.title;\n        req.Professor.author = req.body.author;\n        req.Professor.save()\n        res.json(req.Professor)\n        */\n    })\n    .patch((req, res) => {\n        if (req.body._id) {\n            delete req.body._id;\n        }\n        for (let p in req.body) {\n            req.professor[p] = req.body[p]\n        }\n        req.professor.save()\n        res.json(req.professor)\n    })\n    .get(async (req, res) => {\n        let findUser = await Local.findOne({ _id: req.params.LocalId })\n        if (!findUser) res.status(400).send(\"Nothing found\")\n        console.log(findUser._doc)\n        res.status(200).send(findUser._doc)\n    })\n    .delete(async(req, res) => {\n        try{\n            await Professor.deleteOne({_id: req.params.id})\n                .then(()=>\n                    res.sendStatus(200)\n                ).catch(()=>\n                    res.sendStatus(400)\n                )\n        }catch(e){\n            res.send(e)\n        }\n    });\n\nexport default ProfessorRouter"],"file":"professores.js"}