{"version":3,"sources":["../../src/routers/turmas.js"],"names":["Model","Turma","ModelRouter","express","Router","route","get","req","res","find","err","locais","json","post","model","body","save","status","send","deleteMany","findOne","_id","params","findUser","console","log","_doc","patch","p","deleteOne","then","sendStatus"],"mappings":"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","sourcesContent":["import express from 'express';\nimport Turma from '../models/turma';\n\nconst Model = Turma\n\nexport const ModelRouter = express.Router();\n\nModelRouter.route('/')\n    .get((req, res) => {\n        Model.find({}, (err, locais) => {\n            res.json(locais)\n        })\n    })\n    .post(async (req, res) => {\n        let model = new Model(req.body);\n        model.save()\n        res.status(201).send(model)\n    })\nModelRouter.route('/DELETEALL')\n    .get(async (req, res) => {\n        await Model.deleteMany({}, () => {\n            res.send(\"deletado\")\n        })\n    })\nModelRouter.route('/:_id')\n    .get(async (req, res) => {\n        let findUser = await Model.findOne({ _id: req.params._id })\n        if (!findUser) res.status(400).send(\"No turma found with this id\")\n        console.log(findUser._doc)\n        res.status(200).send(findUser._doc)\n    })\n    .patch((req, res) => {\n        if (req.body._id) {\n            delete req.body._id;\n        }\n        for (let p in req.body) {\n            req.model[p] = req.body[p]\n        }\n        req.model.save()\n        res.json(req.model)\n    })\n    .delete(async(req, res) => {\n        try{\n            await Model.deleteOne({_id: req.params._id})\n                .then(()=>\n                    res.sendStatus(200)\n                ).catch(()=>\n                    res.sendStatus(400)\n                )\n        }catch(e){\n            res.send(e)\n        }\n    });\n"],"file":"turmas.js"}