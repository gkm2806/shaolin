{"version":3,"sources":["../../src/models/users.js"],"names":["Schema","mongoose","generateToken","params","jwp","sign","process","env","HASH_SALT","expiresIn","usuariosModel","username","type","String","required","password","select","permission","Number","pre","next","console","log","model"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,qBAASD,MAAxB;;AAEO,SAASE,aAAT,GAAiC;AAAA,MAAVC,MAAU,uEAAH,EAAG;AACpC,SAAOC,yBAAIC,IAAJ,CAASF,MAAT,EAAiBG,OAAO,CAACC,GAAR,CAAYC,SAA7B,EAAuC;AAC1CC,IAAAA,SAAS,EAAE;AAD+B,GAAvC,CAAP;AAGH;;AACD,IAAMC,aAAa,GAAG,IAAIV,MAAJ,CAAW;AAC7BW,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADmB;AAE7BC,EAAAA,QAAQ,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAFmB;AAG7BC,EAAAA,UAAU,EAAE;AAACL,IAAAA,IAAI,EAAEM,MAAP;AAAe,eAAS;AAAxB;AAHiB,CAAX,CAAtB;AAOAR,aAAa,CAACS,GAAd,CAAkB,MAAlB,EAA0B,UAASC,IAAT,EAAc;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAF,EAAAA,IAAI;AACP,CAHD;;eAKenB,qBAASsB,KAAT,CAAe,UAAf,EAA2Bb,aAA3B,C","sourcesContent":["import mongoose from 'mongoose';\nimport bcrypt from \"bcrypt\"\nimport \"dotenv/config\"\nimport jwp from \"jsonwebtoken\"\n\nconst Schema = mongoose.Schema;\n\nexport function generateToken(params={}){\n    return jwp.sign(params, process.env.HASH_SALT,{\n        expiresIn: 86400\n    })\n}\nconst usuariosModel = new Schema({\n    username: { type: String, required: true},\n    password: { type: String, required: true, select: false},\n    permission: {type: Number, default: 1}\n\n})\n\nusuariosModel.pre('save', function(next){\n    console.log(\"criando Usuario\")\n    next()\n})\n\nexport default mongoose.model('Usuarios', usuariosModel)"],"file":"users.js"}