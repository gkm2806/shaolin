{"version":3,"sources":["../../src/auth/auth.js"],"names":["Auth","req","res","next","authHeader","headers","authorization","status","send","error","split","toString","word","token","jwp","verify","process","env","HASH_SALT","err","decoded","body","createdBy","id"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;AAEe,SAASA,IAAT,CAAcC,GAAd,EAAkBC,GAAlB,EAAsBC,IAAtB,EAA2B;AACtC,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA/B;AACA,MAAG,CAACF,UAAJ,EAAgB,OAAOF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,KAAK,EAAE;AAAR,GAArB,CAAP;AAChB,MAAMC,KAAK,GAAGN,UAAU,CAACO,QAAX,GAAsBD,KAAtB,CAA4B,GAA5B,CAAd;AAEA,MAAG,CAACA,KAAD,KAAW,CAAd,EAAiB,OAAOR,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,KAAK,EAAE;AAAR,GAArB,CAAP;;AALqB,8BAOhBC,KAPgB;AAAA,MAO/BE,IAP+B;AAAA,MAOzBC,KAPyB;;AAStC,MAAGD,IAAI,KAAK,QAAZ,EAAsB,OAAOV,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,KAAK,EAAE;AAAR,GAArB,CAAP;;AACtBK,2BAAIC,MAAJ,CAAWF,KAAX,EAAkBG,OAAO,CAACC,GAAR,CAAYC,SAA9B,EAAyC,UAACC,GAAD,EAAKC,OAAL,EAAgB;AACrD,QAAGD,GAAH,EAAQ,OAAOjB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,KAAK,EAAE;AAAR,KAArB,CAAP;AACRR,IAAAA,GAAG,CAACoB,IAAJ,CAASC,SAAT,GAAqBF,OAAO,CAACG,EAA7B;AACA,WAAOpB,IAAI,EAAX;AACH,GAJD;AAKH","sourcesContent":["import jwp from \"jsonwebtoken\"\nimport \"dotenv/config\"\n\nexport default function Auth(req,res,next){\n    const authHeader = req.headers.authorization;\n    if(!authHeader) return res.status(401).send({error: \"No Token\"})\n    const split = authHeader.toString().split(' ')\n   \n    if(!split === 2) return res.status(401).send({error: \"Token Error\"})\n    \n    const [word, token] = split\n    \n    if(word !== \"Bearer\") return res.status(401).send({error: \"Mas o que *#@!%#! vc ta fazendo?\"})\n    jwp.verify(token, process.env.HASH_SALT, (err,decoded) =>{\n        if(err) return res.status(401).send({error: \"Token invalido, boa tentativa!\"})\n        req.body.createdBy = decoded.id\n        return next()\n    })\n}"],"file":"auth.js"}